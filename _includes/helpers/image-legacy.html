{% capture imagePath %}{{ page.date | date: "%Y-%m-%d" }}-{{ page.title | slugify }}/{{ include.name }}{% endcapture %}
{% if include.frame == false %}
  {% assign frame = false %}
{% else %}
  {% assign frame = true %}
{% endif %}

<figure class="figure {% if include.caption %}figure--caption{% endif %} {% if frame %}figure--frame{% endif %}">
  <div class="figure__inner">
    <img class="figure__image" src="/assets/posts/{{ imagePath }}" {% if include.alt %} alt="{{ include.alt }}" {% endif %} {% if include.width %} width="{{ include.width }}" {% endif %}/>

    {% if include.caption %}
      <figcaption class="figure__caption">{{ include.caption }}</figcaption>
    {% endif %}
  </div>
</figure>