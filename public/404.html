<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  <title>Redirecting...</title>
  <script>
    // Single Page Apps for GitHub Pages
    // MIT License
    // https://github.com/rafgraph/spa-github-pages
    (function(l) {
      // Extract the path from the 404.html URL (excluding the '/404.html' part)
      var segmentCount = 0;
      var location = window.location;
      
      // Store the URL the user was trying to access
      var redirect = sessionStorage.getItem('redirect');
      if (redirect === null) {
        // Save the pathname excluding '/404.html'
        var pathName = location.pathname.replace(/\/404.html$/, '');
        var redirectPath = pathName + location.search + location.hash;
        sessionStorage.setItem('redirect', redirectPath);
        
        // Redirect to the root with a special parameter
        location.replace(
          location.protocol + '//' + location.hostname + 
          (location.port ? ':' + location.port : '') +
          '/?redirect=' + encodeURIComponent(redirectPath)
        );
      }
    })(window.location)
  </script>
</head>
<body>
  <h1>Page Not Found</h1>
  <p>Redirecting you to the homepage...</p>
</body>
</html>
