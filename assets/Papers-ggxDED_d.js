import{j as a,S as O,l as _,U as T,F as w,E as G}from"./ui-BJbaq_vO.js";import{u as H,f as Y,r as x}from"./vendor-ByMTfMZ6.js";import{I as X,F as k,D as Z,P as q,a as J}from"./FilterDropdown-DFyjUsFE.js";import{H as S,B as P}from"./Header-fRITFdwL.js";import{P as u,B as f}from"./markdownUtils-BulHaVri.js";import{g as K,a as Q}from"./papersLoader-DtSAS6vV.js";import"./index-D0fVsKax.js";import"./utils-C4xBKWBT.js";import"./dropdown-menu-C2XYaqbx.js";import"./content-C1erlEkJ.js";const oe=()=>{const[s,j]=H(),C=Y(),[r,A]=x.useState(null),[p,E]=x.useState([]),[I,D]=x.useState([]),[L,v]=x.useState(!0),N=parseInt(s.get("page")||"1"),y=parseInt(s.get("size")||u.SMALL.toString()),l=s.get("category")||"all",n=s.get("status")||"all",i=s.get("search")||"",m=s.get("dateStart")||"",g=s.get("dateEnd")||"";x.useEffect(()=>{(async()=>{v(!0);try{const[t,d]=await Promise.all([K(N,y,l,n,i),Q()]);A(t),E(["all",...d]);const o=Array.from(new Set(t.items.map(b=>b.year.toString()))).sort((b,M)=>parseInt(M)-parseInt(b));D(["all",...o])}catch(t){console.error("Error loading papers data:",t)}finally{v(!1)}})()},[N,y,l,n,i,m,g]);const c=e=>{const t=new URLSearchParams(s);Object.entries(e).forEach(([d,o])=>{o===""||o==="all"||d==="page"&&o===1?t.delete(d):t.set(d,o.toString())}),j(t)},U=e=>{c({search:e,page:1})},R=e=>{c({category:e,page:1})},z=e=>{c({status:e,page:1})},F=e=>{c({dateStart:e.start||"",dateEnd:e.end||"",page:1})},$=e=>{c({page:e})},V=e=>{c({size:e,page:1})},B=(e,t)=>{t.target.closest(".badge-clickable, .external-link")||C(`/papers/${e}`)},h=[l!=="all"?1:0,n!=="all"?1:0,m||g?1:0,i?1:0].reduce((e,t)=>e+t,0);return L?a.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-950",children:[a.jsx(S,{}),a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]}):a.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-950",children:[a.jsx(S,{}),a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Research Papers"}),a.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Academic publications, research contributions, and papers in machine learning, AI, and computer science."})]}),a.jsxs("div",{className:"mb-8 space-y-4",children:[a.jsxs("div",{className:"relative max-w-md mx-auto",children:[a.jsx(O,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx(X,{placeholder:"Search papers...",value:i,onChange:e=>U(e.target.value),className:"pl-10"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center justify-center flex-wrap",children:[a.jsx(k,{label:"Category",options:p,selectedValue:l,onValueChange:R,placeholder:"All Categories",showCount:p.length>10}),a.jsx(k,{label:"Status",options:["all","published","under-review","draft"],selectedValue:n,onValueChange:z,placeholder:"All Status",formatLabel:e=>e==="all"?"All Status":e.replace("-"," ").charAt(0).toUpperCase()+e.slice(1).replace("-"," ")}),a.jsx(Z,{value:{start:m,end:g},onDateRangeChange:F,years:I,className:"w-full sm:w-auto"}),h>0&&a.jsxs(P,{variant:"ghost",size:"sm",onClick:()=>j(new URLSearchParams),className:"text-xs text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:["Clear all (",h,")"]})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx(q,{currentPageSize:y,pageSizeOptions:[u.SMALL,u.MEDIUM,u.LARGE],onPageSizeChange:V})})]}),r&&a.jsxs("div",{className:"text-center mb-6 text-sm text-gray-600 dark:text-gray-400",children:[i&&`Search results for "${i}" • `,l!=="all"&&`Category: ${l} • `,n!=="all"&&`Status: ${n} • `,(m||g)&&"Date filtered • ",r.totalItems," papers found"]}),r&&r.items.length>0?a.jsx("div",{className:"grid gap-6 md:gap-8 mb-12",children:r.items.map(e=>a.jsx("article",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden hover:shadow-md transition-shadow cursor-pointer",onClick:t=>B(e.slug,t),children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(f,{variant:e.status==="published"?"default":e.status==="under-review"?"secondary":"outline",className:"text-xs",children:e.status}),e.featured&&a.jsx(f,{variant:"default",className:"text-xs bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",children:"Featured"})]}),a.jsxs("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:[a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(_,{className:"h-3 w-3"}),e.year]}),e.citations&&a.jsx("div",{className:"flex items-center gap-1",children:a.jsxs("span",{children:[e.citations," citations"]})})]})]}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:e.title}),e.authors&&e.authors.length>0&&a.jsxs("div",{className:"flex items-center gap-1 mb-3 text-sm text-gray-600 dark:text-gray-400",children:[a.jsx(T,{className:"h-4 w-4"}),a.jsx("span",{className:"line-clamp-1",children:e.authors.join(", ")})]}),e.journal&&a.jsxs("div",{className:"text-sm text-gray-600 dark:text-gray-400 mb-3 italic",children:[e.journal,e.volume&&`, Vol. ${e.volume}`,e.pages&&`, pp. ${e.pages}`]}),e.abstract&&a.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 text-sm line-clamp-3",children:e.abstract}),e.keywords&&e.keywords.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[e.keywords.slice(0,5).map(t=>a.jsx(f,{variant:"outline",className:"badge-clickable text-xs",children:t},t)),e.keywords.length>5&&a.jsxs(f,{variant:"outline",className:"text-xs",children:["+",e.keywords.length-5]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-auto",children:[e.arxivUrl&&a.jsxs("a",{href:e.arxivUrl,target:"_blank",rel:"noopener noreferrer",className:"external-link flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",onClick:t=>t.stopPropagation(),children:[a.jsx(w,{className:"h-3 w-3"}),"arXiv"]}),e.pdfUrl&&a.jsxs("a",{href:e.pdfUrl,target:"_blank",rel:"noopener noreferrer",className:"external-link flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",onClick:t=>t.stopPropagation(),children:[a.jsx(w,{className:"h-3 w-3"}),"PDF"]}),e.doi&&a.jsxs("a",{href:`https://doi.org/${e.doi}`,target:"_blank",rel:"noopener noreferrer",className:"external-link flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",onClick:t=>t.stopPropagation(),children:[a.jsx(G,{className:"h-3 w-3"}),"DOI"]})]})]})},e.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:h>0?"No papers found matching your criteria.":"No papers available."}),h>0&&a.jsx(P,{variant:"outline",onClick:()=>j(new URLSearchParams),className:"mt-4",children:"Clear all filters"})]}),r&&r.totalPages>1&&a.jsx(J,{pagination:r,onPageChange:$,className:"mt-8"})]})]})};export{oe as default};
