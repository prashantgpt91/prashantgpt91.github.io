import{j as a,S as O,l as _,m as Z,G as q,E as J}from"./ui-BJbaq_vO.js";import{u as K,f as Q,r as g}from"./vendor-ByMTfMZ6.js";import{I as W,F as N,D as X,P as ee,a as ae}from"./FilterDropdown-CklEVNQl.js";import{H as P,B as D}from"./Header-Biz0RAzl.js";import{P as p,B as f}from"./markdownUtils-D4R9h9U8.js";import{g as te,a as se,b as le}from"./projectsLoader-CZI2DqCO.js";import"./index-CMUkO7Mg.js";import"./utils-C4xBKWBT.js";import"./dropdown-menu-FUycAscy.js";import"./content-C1erlEkJ.js";const ue=()=>{const[s,b]=K(),A=Q(),[l,E]=g.useState(null),[v,L]=g.useState([]),[w,I]=g.useState([]),[T,U]=g.useState([]),[z,S]=g.useState(!0),C=parseInt(s.get("page")||"1"),y=parseInt(s.get("size")||p.SMALL.toString()),o=s.get("category")||"all",i=s.get("status")||"all",x=s.get("technology")||"all",c=s.get("search")||"",h=s.get("dateStart")||"",m=s.get("dateEnd")||"";g.useEffect(()=>{(async()=>{S(!0);try{const[t,n,d]=await Promise.all([te(C,y,o,i,c),se(),le()]);E(t),L(["all",...n]),I(["all",...d]);const M=Array.from(new Set(t.items.map(j=>new Date(j.startDate).getFullYear().toString()))).sort((j,H)=>parseInt(H)-parseInt(j));U(["all",...M])}catch(t){console.error("Error loading projects data:",t)}finally{S(!1)}})()},[C,y,o,i,c,h,m]);const r=e=>{const t=new URLSearchParams(s);Object.entries(e).forEach(([n,d])=>{d===""||d==="all"||n==="page"&&d===1?t.delete(n):t.set(n,d.toString())}),b(t)},F=e=>{r({search:e,page:1})},R=e=>{r({category:e,page:1})},V=e=>{r({status:e,page:1})},k=e=>{r({technology:e,page:1})},$=e=>{r({dateStart:e.start||"",dateEnd:e.end||"",page:1})},B=e=>{r({page:e})},G=e=>{r({size:e,page:1})},Y=(e,t)=>{t.target.closest(".badge-clickable, .external-link")||A(`/projects/${e}`)},u=[o!=="all"?1:0,i!=="all"?1:0,x!=="all"?1:0,h||m?1:0,c?1:0].reduce((e,t)=>e+t,0);return z?a.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-950",children:[a.jsx(P,{}),a.jsx("div",{className:"flex items-center justify-center h-64",children:a.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-blue-600"})})]}):a.jsxs("div",{className:"min-h-screen bg-white dark:bg-slate-950",children:[a.jsx(P,{}),a.jsxs("div",{className:"container mx-auto px-4 py-8",children:[a.jsxs("div",{className:"text-center mb-12",children:[a.jsx("h1",{className:"text-4xl font-bold text-gray-900 dark:text-white mb-4",children:"Projects Portfolio"}),a.jsx("p",{className:"text-xl text-gray-600 dark:text-gray-300 max-w-2xl mx-auto",children:"Showcase of applications, tools, and experiments built with modern technologies and frameworks."})]}),a.jsxs("div",{className:"mb-8 space-y-4",children:[a.jsxs("div",{className:"relative max-w-md mx-auto",children:[a.jsx(O,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-gray-400 h-4 w-4"}),a.jsx(W,{placeholder:"Search projects...",value:c,onChange:e=>F(e.target.value),className:"pl-10"})]}),a.jsxs("div",{className:"flex flex-col sm:flex-row gap-3 items-center justify-center flex-wrap",children:[a.jsx(N,{label:"Category",options:v,selectedValue:o,onValueChange:R,placeholder:"All Categories",showCount:v.length>10}),a.jsx(N,{label:"Status",options:["all","active","completed","on-hold"],selectedValue:i,onValueChange:V,placeholder:"All Status",formatLabel:e=>e==="all"?"All Status":e.replace("-"," ").charAt(0).toUpperCase()+e.slice(1).replace("-"," ")}),a.jsx(N,{label:"Technology",options:w,selectedValue:x,onValueChange:k,placeholder:"All Technologies",showCount:w.length>10}),a.jsx(X,{value:{start:h,end:m},onDateRangeChange:$,years:T,className:"w-full sm:w-auto"}),u>0&&a.jsxs(D,{variant:"ghost",size:"sm",onClick:()=>b(new URLSearchParams),className:"text-xs text-gray-500 hover:text-gray-700 dark:text-gray-400 dark:hover:text-gray-200",children:["Clear all (",u,")"]})]}),a.jsx("div",{className:"flex justify-center",children:a.jsx(ee,{currentPageSize:y,pageSizeOptions:[p.SMALL,p.MEDIUM,p.LARGE],onPageSizeChange:G})})]}),l&&a.jsxs("div",{className:"text-center mb-6 text-sm text-gray-600 dark:text-gray-400",children:[c&&`Search results for "${c}" • `,o!=="all"&&`Category: ${o} • `,i!=="all"&&`Status: ${i} • `,x!=="all"&&`Technology: ${x} • `,(h||m)&&"Date filtered • ",l.totalItems," projects found"]}),l&&l.items.length>0?a.jsx("div",{className:"grid gap-6 md:gap-8 mb-12",children:l.items.map(e=>a.jsx("article",{className:"bg-white dark:bg-slate-900 rounded-lg shadow-sm border border-gray-200 dark:border-slate-700 overflow-hidden hover:shadow-md transition-shadow cursor-pointer",onClick:t=>Y(e.slug,t),children:a.jsxs("div",{className:"p-6",children:[a.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-2 mb-3",children:[a.jsxs("div",{className:"flex items-center gap-2",children:[a.jsx(f,{variant:e.status==="completed"?"default":e.status==="active"?"secondary":"outline",className:"text-xs",children:e.status}),e.featured&&a.jsx(f,{variant:"default",className:"text-xs bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200",children:"Featured"})]}),a.jsx("div",{className:"flex items-center gap-4 text-xs text-gray-500 dark:text-gray-400",children:a.jsxs("div",{className:"flex items-center gap-1",children:[a.jsx(_,{className:"h-3 w-3"}),new Date(e.startDate).getFullYear(),e.endDate&&` - ${new Date(e.endDate).getFullYear()}`]})})]}),a.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-2 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",children:e.title}),e.description&&a.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-4 text-sm line-clamp-3",children:e.description}),e.technologies&&e.technologies.length>0&&a.jsxs("div",{className:"flex flex-wrap gap-1 mb-4",children:[e.technologies.slice(0,6).map(t=>a.jsxs(f,{variant:"outline",className:"badge-clickable text-xs",onClick:n=>{n.stopPropagation(),k(t)},children:[a.jsx(Z,{className:"h-2 w-2 mr-1"}),t]},t)),e.technologies.length>6&&a.jsxs(f,{variant:"outline",className:"text-xs",children:["+",e.technologies.length-6]})]}),a.jsxs("div",{className:"flex flex-wrap gap-3 mt-auto",children:[e.githubUrl&&a.jsxs("a",{href:e.githubUrl,target:"_blank",rel:"noopener noreferrer",className:"external-link flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",onClick:t=>t.stopPropagation(),children:[a.jsx(q,{className:"h-3 w-3"}),"GitHub"]}),e.liveUrl&&a.jsxs("a",{href:e.liveUrl,target:"_blank",rel:"noopener noreferrer",className:"external-link flex items-center gap-1 text-xs text-gray-600 dark:text-gray-400 hover:text-blue-600 dark:hover:text-blue-400 transition-colors",onClick:t=>t.stopPropagation(),children:[a.jsx(J,{className:"h-3 w-3"}),"Live Demo"]})]})]})},e.id))}):a.jsxs("div",{className:"text-center py-12",children:[a.jsx("p",{className:"text-gray-500 dark:text-gray-400 text-lg",children:u>0?"No projects found matching your criteria.":"No projects available."}),u>0&&a.jsx(D,{variant:"outline",onClick:()=>b(new URLSearchParams),className:"mt-4",children:"Clear all filters"})]}),l&&l.totalPages>1&&a.jsx(ae,{pagination:l,onPageChange:B,className:"mt-8"})]})]})};export{ue as default};
